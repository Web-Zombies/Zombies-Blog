{
    "version": "https://jsonfeed.org/version/1",
    "title": "null • All posts by \"web\" category",
    "description": "",
    "home_page_url": "http://xchao.work",
    "items": [
        {
            "id": "http://xchao.work/2022/03/29/computer-science/web/Video/",
            "url": "http://xchao.work/2022/03/29/computer-science/web/Video/",
            "title": "直播Video播放器使用记录",
            "date_published": "2022-03-29T09:49:16.191Z",
            "content_html": "<h1 id=\"vue-video-player播放器\"><a class=\"markdownIt-Anchor\" href=\"#vue-video-player播放器\">#</a> Vue-Video-Player 播放器</h1>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2dpdGh1Yi5zdXJtb24ubWUvdnVlLXZpZGVvLXBsYXllci8=\">Vue-Video-Player</span> <span class=\"label success\">适用于通用协议</span></p>\n<pre><code class=\"language-vue\">&lt;video-player class=&quot;video-player vjs-custom-skin&quot; ref=&quot;videoPlayer&quot; :playsinline=&quot;true&quot; :options=&quot;playerOptions&quot;&gt;\n&lt;/video-player&gt;\n</code></pre>\n<p><span class=\"rainbow\">使用简单 推荐 适用于多种业务场所 推荐使用</span></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> videoPlayer <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"vue-video-player\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">import</span> hls <span class=\"token keyword\">from</span> <span class=\"token string\">\"videojs-contrib-hls\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token string\">\"video.js/dist/video-js.css\"</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token literal-property property\">components</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    videoPlayer<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    hls</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token function\">data</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token literal-property property\">placeName</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token literal-property property\">playerOptions</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token literal-property property\">playbackRates</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 可选的播放速度</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token literal-property property\">autoplay</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 如果为 true, 浏览器准备好时开始回放。</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token literal-property property\">muted</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 默认情况下将会消除任何音频。</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token literal-property property\">loop</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 是否视频一结束就重新开始。</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token literal-property property\">preload</span><span class=\"token operator\">:</span> <span class=\"token string\">\"auto\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 建议浏览器在 & lt;video > 加载元素后是否应该开始下载视频数据。auto 浏览器选择最佳行为，立即开始加载视频（如果浏览器支持）</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token literal-property property\">language</span><span class=\"token operator\">:</span> <span class=\"token string\">\"zh-CN\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token literal-property property\">aspectRatio</span><span class=\"token operator\">:</span> <span class=\"token string\">\"16:9\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例   如 \"16:9\" 或 \"4:3\"）</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token literal-property property\">fluid</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 当 true 时，Video.js player 将拥有流体大小。换句话说，它将按比例缩放以适应其容器。</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token literal-property property\">sources</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>          <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>            <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"application/x-mpegURL\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 类型</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token literal-property property\">src</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//url 地址</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>          <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token literal-property property\">poster</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 封面地址</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token literal-property property\">hls</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 启用 hls？</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token literal-property property\">notSupportedMessage</span><span class=\"token operator\">:</span> <span class=\"token string\">\"此视频暂无法播放，请稍后再试\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 允许覆盖 Video.js 无法播放媒体源时显示的默认信息。</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token literal-property property\">controlBar</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>          <span class=\"token literal-property property\">timeDivider</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 当前时间和持续时间的分隔符</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>          <span class=\"token literal-property property\">durationDisplay</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 显示持续时间</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>          <span class=\"token literal-property property\">remainingTimeDisplay</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 是否显示剩余时间功能</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>          <span class=\"token literal-property property\">currentTimeDisplay</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 当前时间</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>          <span class=\"token literal-property property\">volumeControl</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 声音控制键</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>          <span class=\"token literal-property property\">progressControl</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 进度条</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>          <span class=\"token literal-property property\">playToggle</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 暂停 - 播放 按钮</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>          <span class=\"token literal-property property\">fullscreenToggle</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 是否显示全屏按钮</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr></table></figure><h1 id=\"萤石云播放器\"><a class=\"markdownIt-Anchor\" href=\"#萤石云播放器\">#</a> 萤石云播放器</h1>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL29wZW4ueXM3LmNvbS9kb2MvemgvdWlraXQvdWlraXRfamF2YXNjcmlwdC5odG1s\">zuikit-js</span> <span class=\"label success\">只适用萤石云专用协议</span></p>\n<pre><code class=\"language-vue\">&lt;div id=&quot;video-container&quot; style=&quot;width:100%;height:100%;&quot; &gt;&lt;/div&gt;\n</code></pre>\n<p><span class=\"rainbow\">安全性高 速度快 毕竟是自己的 官方提供的功能也挺全</span></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> EZUIKit <span class=\"token keyword\">from</span> <span class=\"token string\">'ezuikit-js'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre> <span class=\"token function\">data</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token literal-property property\">player</span><span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>   <span class=\"token function\">mounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>     <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>player <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">EZUIKit<span class=\"token punctuation\">.</span>EZUIKitPlayer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>           <span class=\"token literal-property property\">autoplay</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>           <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token string\">\"video-container\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>           <span class=\"token literal-property property\">accessToken</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 萤石云私有协议 accessToken</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>           <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>           <span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> <span class=\"token string\">\"standard\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//simple - 极简版；standard - 标准版；security - 安防版 (预览回放);voice - 语音版；</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>           <span class=\"token comment\">//footer: [\"hd\", 'fullScreen'], // 如果 template 参数不为 simple, 该字段将被覆盖</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>           <span class=\"token literal-property property\">audio</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>      <span class=\"token comment\">/* 切换播放</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>         this.player.stop ()</pre></td></tr><tr><td data-num=\"20\"></td><td><pre>           .then (() => &#123;</pre></td></tr><tr><td data-num=\"21\"></td><td><pre>            this.player.play (res.data.records [0].connect);</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>           &#125;);</pre></td></tr><tr><td data-num=\"23\"></td><td><pre>       */</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>   <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"腾讯云播放器\"><a class=\"markdownIt-Anchor\" href=\"#腾讯云播放器\">#</a> 腾讯云播放器</h1>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL3ZvbndlYi92LXRjcGxheWVy\">v-tcplayer</span> <span class=\"label success\">适用于通用协议</span></p>\n<pre><code class=\"language-vue\">&lt;VTcPlayer  ref=&quot;tcPlayer&quot; :options=&quot;audioOptions&quot; elmId=&quot;1&quot; @load=&quot;onLoad&quot; @play=&quot;onPlay&quot; @pause=&quot;onPause&quot; /&gt;\n</code></pre>\n<p><span class=\"rainbow\">使用简单 做业务的时候对我来说体验感不是很好</span></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token punctuation\">&#123;</span> VTcPlayer <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'v-tcplayer'</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token literal-property property\">components</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    VTcPlayer<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>     <span class=\"token function\">data</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token comment\">// 视频地址存放对象</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token literal-property property\">audioOptions</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token comment\">// 播放流</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token literal-property property\">m3u8</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token comment\">// 0.0.5 增加 </span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token literal-property property\">hlsUrl</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token comment\">//// 播放器宽度</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        <span class=\"token literal-property property\">width</span><span class=\"token operator\">:</span> <span class=\"token string\">'100%'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        <span class=\"token comment\">//// 播放器高度</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token literal-property property\">height</span><span class=\"token operator\">:</span> <span class=\"token string\">'250'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token comment\">//poster 支持传入一个对象，在对象中可以对封面的展现样式（style）和图片地址（src）进行设置。</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">//style 支持的样式如下:</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token comment\">// \tdefault: 居中并且以图片的实际分辨率进行显示。</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token comment\">// \tstretch: 拉伸铺满播放器区域，图片可能会变形。</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">// \tcover: 优先横向等比拉伸铺满播放器区域，图片某些部分可能无法显示在区域内。</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token comment\">// poster: &#123;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">//   \"style\": \"stretch\",</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token comment\">//   \"src\": \"https://img1.baidu.com/it/u=1576882006,3058438369&amp;fm=26&amp;fmt=auto&amp;gp=0.jpg\"</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token comment\">// &#125;,</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token comment\">// 是否自动播放</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token comment\">//iOS 下 safari 浏览器，以及大部分移动端浏览器是不开放视频自动播放这个能力的</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token literal-property property\">autoplay</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token comment\">// 设置视频是否为直播类型，将决定是否渲染时间轴等控件，以及区分点直播的处理逻辑。</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">// 默认为 false</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        <span class=\"token literal-property property\">live</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        <span class=\"token comment\">// 事件监听回调函数</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>        <span class=\"token function-variable function\">listener</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>          <span class=\"token comment\">// 进行事件处理</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr></table></figure><h1 id=\"协议对比\"><a class=\"markdownIt-Anchor\" href=\"#协议对比\">#</a> 协议对比</h1>\n<div class=\"note default\">\n<p>EZOPEN 协议（萤石私有流）、HLS 协议（标准流）、RTMP 协议（标准流），每种协议有各自的优点和缺点。下面以功能、性能、跨平台、扩展性进行详细比较</p>\n</div>\n<table>\n<thead>\n<tr>\n<th>-</th>\n<th>HLS</th>\n<th>RTMP</th>\n<th>EZOPEN 协议</th>\n<th>萤石私有协议</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>适用性</td>\n<td>适用 WEB/H5 接入</td>\n<td>只适用 WEB 接入</td>\n<td>只适用 UIKit 接入，支持 WEB (ActiveX) 接入</td>\n<td>只适用萤石 OpenSDK 接入</td>\n</tr>\n<tr>\n<td>出流速度</td>\n<td>首次取流延时 4-10 秒</td>\n<td>首次取流延时 2-4 秒</td>\n<td>首次取流延时 1 秒</td>\n<td>首次取流延时 1 秒</td>\n</tr>\n<tr>\n<td>优势</td>\n<td>跨平台性好，支持网页直接（包括微信）播放</td>\n<td>比 HLS 延时低，且支持与第三方云进行转码、录播</td>\n<td>取流速度快，高安全性，接入简单</td>\n<td>取流速度快，高安全性，功能齐全</td>\n</tr>\n</tbody>\n</table>\n",
            "tags": [
                "Vue-Video-Player,ezuikit-js,v-tcplayer"
            ]
        },
        {
            "id": "http://xchao.work/2022/03/28/computer-science/web/BaiduMap/",
            "url": "http://xchao.work/2022/03/28/computer-science/web/BaiduMap/",
            "title": "Vue Baidu Map 百度地图的使用",
            "date_published": "2022-03-28T11:50:12.861Z",
            "content_html": "<h1 id=\"百度地图的使用\"><a class=\"markdownIt-Anchor\" href=\"#百度地图的使用\">#</a> 百度地图的使用</h1>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kYWZyb2suZ2l0aHViLmlvL3Z1ZS1iYWlkdS1tYXAvIy96aC9zdGFydC90aGlyZC1wYXJ0eQ==\">Vue Baidu Map</span><br>\n<span class=\"label warning\">:mapClick=&quot;false&quot;</span><br>\n<ins class=\"dot\"> 关闭百度地图 默认的地点点击详情效果</ins><br>\n<span class=\"label warning\">:scroll-wheel-zoom=&quot;true&quot;</span><br>\n<ins class=\"dot\"> 鼠标滚轮实现缩放地图</ins></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>baidu<span class=\"token operator\">-</span>map <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"bm-view\"</span> ak<span class=\"token operator\">=</span><span class=\"token string\">\"你的百度地图key\"</span> <span class=\"token operator\">:</span>center<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span> <span class=\"token operator\">:</span>zoom<span class=\"token operator\">=</span><span class=\"token string\">\"zoom\"</span> @ready<span class=\"token operator\">=</span><span class=\"token string\">\"handler\"</span> <span class=\"token operator\">:</span>mapClick<span class=\"token operator\">=</span><span class=\"token string\">\"false\"</span> <span class=\"token operator\">:</span>scroll<span class=\"token operator\">-</span>wheel<span class=\"token operator\">-</span>zoom<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span> <span class=\"token operator\">:</span>mapStyle<span class=\"token operator\">=</span><span class=\"token string\">\"mapStyle\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>缩放控件<span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> <span class=\"token operator\">&lt;</span>bm<span class=\"token operator\">-</span>navigation anchor<span class=\"token operator\">=</span><span class=\"token string\">\"BMAP_ANCHOR_BOTTOM_RIGHT\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>bm<span class=\"token operator\">-</span>navigation<span class=\"token operator\">></span> <span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>聚合动态添加的点坐标<span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token operator\">&lt;</span>bm<span class=\"token operator\">-</span>marker<span class=\"token operator\">-</span>clusterer <span class=\"token operator\">:</span>averageCenter<span class=\"token operator\">=</span><span class=\"token string\">\"true\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token operator\">&lt;</span>bm<span class=\"token operator\">-</span>marker v<span class=\"token operator\">-</span><span class=\"token keyword\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"(marker) of markers\"</span> <span class=\"token operator\">:</span>key<span class=\"token operator\">=</span><span class=\"token string\">\"marker.id\"</span> <span class=\"token operator\">:</span>icon<span class=\"token operator\">=</span><span class=\"token string\">\"&#123;url:mapIcon,size: &#123;width: 66, height: 66&#125;&#125;\"</span> <span class=\"token operator\">:</span>position<span class=\"token operator\">=</span><span class=\"token string\">\"&#123;lng: marker.lng, lat: marker.lat&#125;\"</span> <span class=\"token operator\">:</span>dragging<span class=\"token operator\">=</span><span class=\"token string\">\"false\"</span> @click<span class=\"token operator\">=</span><span class=\"token string\">\"marker.show= true\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span>信息窗体<span class=\"token operator\">--</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token operator\">&lt;</span>bm<span class=\"token operator\">-</span>info<span class=\"token operator\">-</span>window <span class=\"token operator\">:</span>position<span class=\"token operator\">=</span><span class=\"token string\">\"&#123;lng: marker.lng, lat: marker.lat&#125;\"</span> <span class=\"token operator\">:</span>show<span class=\"token operator\">=</span><span class=\"token string\">\"marker.show\"</span> @close<span class=\"token operator\">=</span><span class=\"token string\">\"marker.show= false\"</span> @open<span class=\"token operator\">=</span><span class=\"token string\">\"marker.show = true\"</span><span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>          <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span><span class=\"token operator\">></span>投产时间<span class=\"token operator\">:</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"right\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>          <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span><span class=\"token operator\">></span>行业类型<span class=\"token operator\">:</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"right\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>          <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"left zrr\"</span><span class=\"token operator\">></span>责任人<span class=\"token operator\">:</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"right\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>          <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span><span class=\"token operator\">></span>联系电话<span class=\"token operator\">:</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"right\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>          <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span><span class=\"token operator\">></span>污染物体<span class=\"token operator\">:</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"right \"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>          <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"left\"</span><span class=\"token operator\">></span>所在地址<span class=\"token operator\">:</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"right\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>bm<span class=\"token operator\">-</span>info<span class=\"token operator\">-</span>window<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>bm<span class=\"token operator\">-</span>marker<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>bm<span class=\"token operator\">-</span>marker<span class=\"token operator\">-</span>clusterer<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>baidu<span class=\"token operator\">-</span>map<span class=\"token operator\">></span></pre></td></tr></table></figure><figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token comment\">// 百度地图 局部引用</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> mapIconPath <span class=\"token keyword\">from</span> <span class=\"token string\">\"../../../assets/images/home/mark.png\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> BaiduMap <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-baidu-map/components/map/Map.vue'</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> BmNavigation <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-baidu-map/components/controls/Navigation'</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> BmMarkerClusterer <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-baidu-map/components/extra/MarkerClusterer'</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> BmMarker <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-baidu-map/components/overlays/Marker'</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> BmInfoWindow <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-baidu-map/components/overlays/InfoWindow'</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>  <span class=\"token literal-property property\">components</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    BaiduMap<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    BmNavigation<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    BmMarkerClusterer<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    BmMarker<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    BmInfoWindow</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>  <span class=\"token function\">data</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>      <span class=\"token comment\">// 默认的中心区域     </span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token literal-property property\">center</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token literal-property property\">lng</span><span class=\"token operator\">:</span> <span class=\"token number\">112.98</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">lat</span><span class=\"token operator\">:</span> <span class=\"token number\">28.19</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"21\"></td><td><pre>      <span class=\"token comment\">// 地图缩放层级         </span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token literal-property property\">zoom</span><span class=\"token operator\">:</span> <span class=\"token number\">15</span><span class=\"token punctuation\">,</span> </pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token literal-property property\">mapIcon</span><span class=\"token operator\">:</span> mapIconPath<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>      <span class=\"token comment\">// 地图主题</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token literal-property property\">mapStyle</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">&#123;</span>  </pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token literal-property property\">style</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dark\"</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      <span class=\"token comment\">// 地图坐标点</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token literal-property property\">markers</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>         <span class=\"token literal-property property\">code</span><span class=\"token operator\">:</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>         <span class=\"token literal-property property\">lng</span><span class=\"token operator\">:</span> <span class=\"token string\">'112.9479'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>         <span class=\"token literal-property property\">lat</span><span class=\"token operator\">:</span> <span class=\"token string\">'28.2230'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>         <span class=\"token literal-property property\">show</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>         <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre>      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h1 id=\"注意\"><a class=\"markdownIt-Anchor\" href=\"#注意\">#</a> 注意</h1>\n<p><span class=\"label warning\">将腾讯高德地图的经纬度转换成百度地图能使用的经纬度</span></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">qqMapTransBMap</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">lng<span class=\"token punctuation\">,</span> lat</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">let</span> x_pi <span class=\"token operator\">=</span> <span class=\"token number\">3.14159265358979324</span> <span class=\"token operator\">*</span> <span class=\"token number\">3000.0</span> <span class=\"token operator\">/</span> <span class=\"token number\">180.0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> lng<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> lat<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">*</span> x <span class=\"token operator\">+</span> y <span class=\"token operator\">*</span> y<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.00002</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>y <span class=\"token operator\">*</span> x_pi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">let</span> theta <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">atan2</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.000003</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">*</span> x_pi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">let</span> lngs <span class=\"token operator\">=</span> z <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.0065</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">let</span> lats <span class=\"token operator\">=</span> z <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">0.006</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token literal-property property\">lng</span><span class=\"token operator\">:</span> lngs<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token literal-property property\">lat</span><span class=\"token operator\">:</span> lats</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><span class=\"label warning\">将百度地图经纬度转换为腾讯 / 高德地图经纬度</span></p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token function\">bMapTransQQMap</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">lng<span class=\"token punctuation\">,</span> lat</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>      <span class=\"token keyword\">let</span> x_pi <span class=\"token operator\">=</span> <span class=\"token number\">3.14159265358979324</span> <span class=\"token operator\">*</span> <span class=\"token number\">3000.0</span> <span class=\"token operator\">/</span> <span class=\"token number\">180.0</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>      <span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> lng <span class=\"token operator\">-</span> <span class=\"token number\">0.0065</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>      <span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> lat <span class=\"token operator\">-</span> <span class=\"token number\">0.006</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>      <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">*</span> x <span class=\"token operator\">+</span> y <span class=\"token operator\">*</span> y<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.00002</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>y <span class=\"token operator\">*</span> x_pi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>      <span class=\"token keyword\">let</span> theta <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">atan2</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.000003</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">*</span> x_pi<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      <span class=\"token keyword\">let</span> lngs <span class=\"token operator\">=</span> z <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>      <span class=\"token keyword\">let</span> lats <span class=\"token operator\">=</span> z <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>theta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>          <span class=\"token literal-property property\">lng</span><span class=\"token operator\">:</span> lngs<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>          <span class=\"token literal-property property\">lat</span><span class=\"token operator\">:</span> lats        </pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span>   </pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><ins class=\"dot\">不然会导致位置出现偏差 因为他们 不是一套坐标体系</ins></p>\n",
            "tags": [
                "Vue Baidu Map"
            ]
        }
    ]
}